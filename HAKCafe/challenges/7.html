<!DOCTYPE html>
<html>
<head>
  <title>Challenge 7</title>
</head>
<body style="background:#222; color:white; font-family:monospace; padding:20px;">
  <h2>Challenge 7: The BeanShare Recon</h2>
  <p>You’ve discovered a suspicious Windows system on a mock internal network. It looks like it’s running SMB. Your mission: simulate enumeration of its available SMB shares using Python logic.</p>

  <p>Below is a starter script that mimics the SMB connection process. Your job is to “connect” and list available shares from the mock data.</p>

  <h3>Starter Script (Python)</h3>
  <pre style="text-align:left; display:inline-block; background:#111; padding:10px; border:1px solid #fff;">
# Simulated SMB environment for training purposes

class FakeSMBConnection:
    def __init__(self, username, password):
        self.username = username
        self.password = password
        self.connected = False

    def connect(self):
        if self.username.lower() == "guest":
            self.connected = True
        return self.connected

    def listShares(self):
        if self.connected:
            return ["public", "coffee_docs", "admin$", "IPC$"]
        else:
            return []

# Simulate connection
conn = FakeSMBConnection("guest", "")
if conn.connect():
    shares = conn.listShares()
    for share in shares:
        print("Share:", share)
  </pre>

  <p><strong>What is the name of one accessible share?</strong></p>

  <input type="text" id="answer" placeholder="Share name">
  <button onclick="check()">Submit</button>
  <p id="result"></p>

  <script>
    function check() {
      const val = document.getElementById('answer').value.trim().toLowerCase();
      const accepted = ['public', 'coffee_docs'];

      if (accepted.includes(val)) {
        localStorage.setItem('solved-7', true);
        document.getElementById('result').textContent = "Correct! You’ve successfully enumerated the SMB shares.";
        window.parent.postMessage({type: 'challengeSolved', id:7}, '*');
      } else {
        document.getElementById('result').textContent = "Incorrect or share not found. Try reviewing your script output.";
      }
    }
  </script>
</body>
</html>
